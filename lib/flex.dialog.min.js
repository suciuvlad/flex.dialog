!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","wolfy87-eventemitter"],e):"undefined"!=typeof exports?module.exports=e(require("jquery"),require("wolfy87-eventemitter")):e(jQuery,EventEmitter)}(function(e,t){"use strict";window.Flex=window.Flex||{};var o=window.Flex.Dialog={};return o.Overlay=function(o){var i=new t;return{show:function(){var t=e('<div class="'+o.overlayClass+'"></div>').appendTo("body");o.evtCloseOnOverlay&&t.on("click",function(){i.emit("event:overlay:clicked")})},close:function(){var t="."+o.overlayClass,i=e(t);i.remove(),o.evtCloseOnOverlay&&i.off("click")},on:function(e,t){i.on(e,t)}}},o.Overlay}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","wolfy87-eventemitter","./dialog.overlay"],e):"undefined"!=typeof exports?module.exports=e(require("jquery"),require("wolfy87-eventemitter"),require("./dialog.overlay")):e(jQuery,EventEmitter,window.Flex.Dialog.Overlay)}(function(e,t,o){"use strict";var i,n,s=window.Flex.Dialog||{};return n={autoOpen:!0,evtCloseOnESC:!0,evtCloseOnOverlay:!0,overlayClass:"dlg--overlay",onShow:function(){},onClose:function(){}},s=function(t,o){return this.version="0.0.1",this.options=o,this.$elem=e(t),this.isShown=!1,this.config=i(this.options),this._setupBindings(),this},s.prototype.show=function(){return this.isShown?void 0:(this.isShown=!0,this.$elem.addClass("is-shown"),this.config.overlay.show(),this.options.onShow.call(this),this)},s.prototype.close=function(){return this.isShown?(this.isShown=!1,this.$elem.removeClass("is-shown"),this.config.overlay.close(),this.options.onClose.call(this),this):void 0},s.prototype._setupBindings=function(){var t=this;this.options.evtCloseOnESC&&e("body").keyup(function(e){27===e.which&&t.close()}),this.$elem.on("click",'[data-dialog="dismiss"]',e.proxy(this.close,this)),this.config.overlay.on("event:overlay:clicked",e.proxy(this.close,this))},s.prototype.defaults=n,t(s.prototype),i=function(e){var t={};return t.overlay=new o(e),t},e.plugin=function(t,o){e.fn[t]=function(i){return this.each(function(){var n=e.data(this,"plugin_"+t),r=e.extend({},"object"==typeof i&&i),l=e(this).data(),a=e.extend({},s.prototype.defaults,r,l);n||e.data(this,"plugin_"+t,n=new o(this,a)),"string"==typeof i?n[i]():a.autoOpen&&n.show()})}},e.plugin("dialog",s),e(document).on("click",'[data-toggle="dialog"]',function(t){t.preventDefault();{var o=e(this).attr("data-dialog-target");e(o).dialog()}}),s});